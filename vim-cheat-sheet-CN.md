# Vim Cheat Sheet

## 一般模式

### 移动光标

| 操作           | 说明                                       |
| ------------ | ---------------------------------------- |
| h 或 向左箭头键(←) | 光标向左移动一个字符                               |
| j 或 向下箭头键(↓) | 光标向下移动一个字符                               |
| k 或 向上箭头键(↑) | 光标向上移动一个字符                               |
| l 或 向右箭头键(→) | 光标向右移动一个字符                               |
| h/j/k/l + n  | n 表示数字，分别表示光标左/下/上/右移动n次                 |
| [Ctrl] + [f] | 屏幕**向下**移动一页(**常用**)                     |
| [Ctrl] + [b] | 屏幕**向上**移动一页(**常用**)                     |
| [Ctrl] + [d] | 屏幕**向下**移动半页                             |
| [Ctrl] + [u] | 屏幕**向上**移动半页                             |
| n<space>     | n 表示数字，按下数字后再按空格键，光标会向右移动这一行的 n 个字符      |
| 0 或功能键[Home] | 数字 0 ，移动到这一行的最前面字符处 (**常用**)             |
| $ 或功能键[End]  | 移动到这一行的最后面字符处(常用)                        |
| H            | 光标移动到这个屏幕的最上方那一行的第一个字符                   |
| M            | 光标移动到这个屏幕的中央那一行的第一个字符                    |
| L            | 光标移动到这个屏幕的最下方那一行的第一个字符                   |
| G            | 移动到这个档案的最后一行(**常用**)                     |
| nG           | n 为数字。移动到这个档案的第 n 行。例如 20G 则会移动到这个档案的第 20 行(可配合 :set nu) |
| gg           | 移动到这个档案的第一行，相当于 1G 啊！ (**常用**)           |
| n<Enter>     | n 为数字。光标向下移动 n 行(**常用**)                 |

### 查找与替换

| 操作                    | 说明                                       |
| --------------------- | ---------------------------------------- |
| /word                 | 向光标之后寻找一个名称为 word 的字符串(**常用**)           |
| ?word                 | 向光标之前寻找一个字符串名称为 word 的字符串                |
| n                     | 重复前一个搜寻的动作(**常用**)                       |
| N                     | 反向进行前一个搜寻动作(**常用**)                      |
| :n1,n2s/word1/word2/g | 在第 n1 与 n2 行之间寻找 word1 这个字符串，并将该字符串取代为 word2 (**常用**) |
| :1,$s/word1/word2/g   | 从第一行到最后一行寻找 word1 字符串，并将该字符串取代为 word2 ！(**常用**) |
| :1,$s/word1/word2/gc  | 从第一行到最后一行寻找 word1 字符串，并将该字符串取代为 word2 ！且在取代前显示提示字符给用户确认 (confirm) 是否需要取代！(**常用**) |

### 删除、复制与粘贴

| 操作       | 说明                                      |
| -------- | --------------------------------------- |
| x, X     | 在一行字当中，x 为向后删除一个字符，X 为向前删除一个字符 (**常用**) |
| nx       | n 为数字，连续向后删除 n 个字符                      |
| dd       | 删除光标所在的那一整行(**常用**)                     |
| ndd      | n 为数字。删除光标所在和向下的 n 行(**常用**)            |
| d1G      | 删除光标所在到第一行的所有数据                         |
| dG       | 删除光标所在到最后一行的所有数据                        |
| d$       | 删除光标所在处，到该行的最后一个字符                      |
| d0       | 删除光标所在处，到该行的最前面一个字符                     |
| yy       | 复制光标所在的那一行(**常用**)                      |
| nyy      | n 为数字。复制光标所在的向下 n 行(**常用**)             |
| y1G      | 复制光标所在行到第一行的所有数据                        |
| yG       | 复制光标所在行到最后一行的所有数据                       |
| y0       | 复制光标所在的那个字符到该行行首的所有数据                   |
| y$       | 复制光标所在的那个字符到该行行尾的所有数据                   |
| p, P     | p 为将已复制的数据在光标下一行贴上，P 则为贴在光标上一行 (**常用**) |
| J        | 将光标所在行与下一行合并成同一行                        |
| c        | 重复删除多个数据，例如向下删除 10 行，[ 10cj ]           |
| u        | undo前一个动作(**常用**)                       |
| [Ctrl]+r | redo上一个动作**(常用**)                       |
| .        | 重复前一个动作                                 |

## 编辑模式

| 操作    | 说明                                       |
| ----- | ---------------------------------------- |
| i, I  | 进入插入模式，i 为从光标所在处插入， I 为在所在行的第一个非空格符处开始插入 (**常用**) |
| a, A  | 进入插入模式，a 为从光标所在的下一个字符处开始插入， A 为从光标所在行的最后一个字符处开始插入(**常用**) |
| o, O  | 进入插入模式，英文字母 o 的大小写。o 为在光标所在的下一行处插入新的一行， O 为在光标所在处的上一行插入新的一行(**常用**) |
| r, R  | 进入取代模式，r 只会取代光标所在的那一个字符一次，R会一直取代光标所在的文字，直到按下 ESC 为止(**常用**) |
| [Esc] | 退出编辑模式，回到一般模式中(**常用**)                   |

## 指令模式

|                     |                                          |
| ------------------- | ---------------------------------------- |
| :w                  | 将编辑的数据写入硬盘文档中(**常用**)                    |
| :w!                 | 若文件属性为『只读』时，强制写入该文档。不过还需要看对该文档的权限        |
| :q                  | 离开 vi (**常用**)                           |
| :q!                 | 若曾修改过文档，又不想保存，使用 ! 为强制离开不保存              |
| :wq                 | 储存后离开，若为 :wq! 则为强制保存后离开 (常用)             |
| ZZ                  | 大写的 Z ，若文档没有更改，则不保存离开，若文档已经被更改过，则保存后离开！  |
| :w [filename]       | 将编辑的数据另存为另一个文档                           |
| :r [filename]       | 在编辑的数据中，读入另一个档案的数据，亦将 [filename] 这个文档内容加到光标所在行后面 |
| :n1,n2 w [filename] | 将 n1 到 n2 的内容另存到 filename                |
| :! command          | 暂时离开 vi 到指令列模式下执行 command 的显示结果！例如`:! ls /home`即可在 vi 当中察看 /home 底下以 ls 的输出 |

## 环境变更

| 操作        | 说明   |
| --------- | ---- |
| :set nu   | 显示行号 |
| :set nonu | 取消行号 |



## 示例